# =================================================================
# FOUNDERS DAY - ENVIRONMENT CONFIGURATION
# =================================================================
# Copy this file to .env and configure with your actual values
# 
# SECURITY WARNING: 
# - Never commit .env files with real secrets to git
# - Use GitHub Secrets for deployment environments
# =================================================================

# -----------------------------------------------------------------
# DATABASE CONFIGURATION (Supabase/Neon PostgreSQL)
# -----------------------------------------------------------------
DATABASE_URL=postgresql://username:password@host:port/database
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your_supabase_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key

# -----------------------------------------------------------------
# SQUARE PAYMENT INTEGRATION
# -----------------------------------------------------------------

# Sandbox Environment (Development/Testing)
SQUARE_SANDBOX_APPLICATION_ID=sandbox-sq0idb-YOUR_SANDBOX_APP_ID
SQUARE_SANDBOX_ACCESS_TOKEN=EAAA_SANDBOX_ACCESS_TOKEN
SQUARE_SANDBOX_LOCATION_ID=YOUR_SANDBOX_LOCATION_ID
SQUARE_SANDBOX_WEBHOOK_SIGNATURE_KEY=YOUR_SANDBOX_WEBHOOK_KEY

# Production Environment
SQUARE_PRODUCTION_APPLICATION_ID=sq0idp-YOUR_PRODUCTION_APP_ID
SQUARE_PRODUCTION_ACCESS_TOKEN=EAAA_PRODUCTION_ACCESS_TOKEN
SQUARE_PRODUCTION_APPLICATION_SECRET=sq0csp-YOUR_PRODUCTION_APP_SECRET
SQUARE_PRODUCTION_LOCATION_ID=YOUR_PRODUCTION_LOCATION_ID
SQUARE_PRODUCTION_WEBHOOK_SIGNATURE_KEY=YOUR_PRODUCTION_WEBHOOK_KEY

# Active Environment Selection
SQUARE_ENVIRONMENT=sandbox  # or "production"

# Derived values (auto-selected based on SQUARE_ENVIRONMENT)
# These are set dynamically in the application - DO NOT MODIFY
# SQUARE_APPLICATION_ID (auto-set from sandbox/production)
# SQUARE_ACCESS_TOKEN (auto-set from sandbox/production)
# SQUARE_LOCATION_ID (auto-set from sandbox/production)
# SQUARE_WEBHOOK_SIGNATURE_KEY (auto-set from sandbox/production)

# -----------------------------------------------------------------
# FRONTEND PUBLIC CONFIGURATION
# -----------------------------------------------------------------
# These are exposed to the client-side and can be public

# Square Client-side Integration
NEXT_PUBLIC_SQUARE_APPLICATION_ID=sandbox-sq0idb-YOUR_SANDBOX_APP_ID
NEXT_PUBLIC_SQUARE_LOCATION_ID=YOUR_SANDBOX_LOCATION_ID
NEXT_PUBLIC_SQUARE_ENVIRONMENT=sandbox

# API Configuration
NEXT_PUBLIC_ADMIN_API_URL=http://localhost:3001  # Admin backend URL
NEXT_PUBLIC_API_KEY=optional_public_api_key

# Payment Provider Selection
NEXT_PUBLIC_PREFERRED_PAYMENT_PROVIDER=square

# -----------------------------------------------------------------
# AUTHENTICATION & SESSION MANAGEMENT
# -----------------------------------------------------------------
NEXTAUTH_URL=http://localhost:3001  # For admin backend
NEXTAUTH_SECRET=your_nextauth_secret_key_32_chars_min
JWT_SECRET=your_jwt_secret_for_webhook_auth

# -----------------------------------------------------------------
# WEBHOOK CONFIGURATION
# -----------------------------------------------------------------
WEBHOOK_RATE_LIMIT_REQUESTS=100  # Requests per minute
WEBHOOK_RATE_LIMIT_WINDOW=60000  # Window in milliseconds
WEBHOOK_QUEUE_CONCURRENCY=5      # Concurrent webhook processing
WEBHOOK_RETRY_ATTEMPTS=3         # Max retry attempts
WEBHOOK_RETRY_DELAY=1000         # Initial retry delay (ms)

# -----------------------------------------------------------------
# EMAIL & NOTIFICATIONS
# -----------------------------------------------------------------
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_email_password_or_app_password
FROM_EMAIL=noreply@foundersday.mn

# -----------------------------------------------------------------
# ANALYTICS & MONITORING
# -----------------------------------------------------------------
NEXT_PUBLIC_GA_MEASUREMENT_ID=G-YOUR_GA_ID
SENTRY_DSN=https://your_sentry_dsn_url
LOG_LEVEL=info  # debug, info, warn, error

# -----------------------------------------------------------------
# DEVELOPMENT CONFIGURATION
# -----------------------------------------------------------------
NODE_ENV=development  # development, production, test
PORT=3001            # Admin backend port
FRONTEND_PORT=3000   # Frontend port

# -----------------------------------------------------------------
# SECURITY CONFIGURATION
# -----------------------------------------------------------------
CORS_ORIGIN=http://localhost:3000,http://localhost:3001
ALLOWED_ORIGINS=localhost:3000,localhost:3001

# Session Security
SESSION_TIMEOUT=86400000  # 24 hours in milliseconds
SECURE_COOKIES=false      # Set to true in production with HTTPS

# -----------------------------------------------------------------
# FEATURE FLAGS
# -----------------------------------------------------------------
ENABLE_WEBHOOKS=true
ENABLE_SQUARE_CUSTOMER_MANAGEMENT=true
ENABLE_PAYMENT_RECONCILIATION=true
ENABLE_DEBUG_LOGGING=true

# -----------------------------------------------------------------
# PERFORMANCE CONFIGURATION
# -----------------------------------------------------------------
DATABASE_POOL_SIZE=10
CACHE_TTL=300000     # 5 minutes in milliseconds
API_TIMEOUT=30000    # 30 seconds in milliseconds

# -----------------------------------------------------------------
# BACKUP & MAINTENANCE
# -----------------------------------------------------------------
BACKUP_ENABLED=false
BACKUP_FREQUENCY=daily
CLEANUP_OLD_WEBHOOKS_DAYS=30
CLEANUP_OLD_LOGS_DAYS=90